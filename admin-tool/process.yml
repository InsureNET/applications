name: balance-notifier
steps:
    - type: trigger
      instance:
        src: https://github.com/mesg-foundation/service-enit-event-interval
      eventKey: every_10_seconds
    - type: task
      instance:
        src: https://github.com/mesg-foundation/service-ethereum-erc20
        env:
            - PROVIDER_ENDPOINT=https://mainnet.infura.io/v3/d75ab9cb284f4536b1da2ce9f8201bdb
        taskKey: balanceOf
        inputs:
          contractAddress: "0x0e43Df5f5B00409831926f761C8Da6bC52E2Ad0f"
          address: "0xd2cCea05436bf27aE49B01726075449F815B683e"
    - type: task
    instance:
        src: https://github.com/mesg-foundation/service-webhook
        taskKey: call
        inputs:
          url: "https://webhook.site/abe438ba-0c54-4594-bdfd-251375006283"
          data:
            balance: { key: balance }